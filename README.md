🔬 # 2025-ElectronicDesignCompetition

📁 MaixCam/              MaixCam视觉算法
📁 STM32/                STM32固件代码（Keil工程）
📁 PCB/                  PCB设计文件（立创EDA）
📁 题目/                 比赛详细要求

[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Hardware](https://img.shields.io/badge/Hardware-STMF103RCT6-00979D.svg)](https://www.st.com/)
[![Vision](https://img.shields.io/badge/Vision-MaixCam-0078D7.svg)](https://maixcam.sipeed.com/)

本项目为2025年全国大学生电子设计竞赛C题的**完整解决方案**。系统以STM32F103RCT6为主控核心，搭载MaixCam人工智能摄像头实现高精度单目视觉测距，并配备自定义设计的PCB硬件平台，具备稳定、可靠、易用的特点。

## ✨ 项目特点 🚀
- **高精度视觉感知**: 基于MaixCam的单目测距算法，在多环境下（室内/室外，不同光照）均能保持测量误差在**±2**以内。
- **稳定硬件平台**: 自主设计的DCDC电源模块为系统提供稳定、干净的电源，主控板与功能外设板分离设计且硬件外设已全部验证，有效抑制干扰。
- **完整系统集成**: 集成了高精度电流采集、串口屏实时监控、自动触发测量等功能，提供完整的“感知-决策-显示”闭环。

## 🛠️ 系统架构 ⚙️
### 1. 📷视觉模块 - MaixCam
- **核心算法**: 单目测距。
- **关键技术**: 采用轻量化神经网络与传统的图像处理相结合的方法，适应多种环境（光照变化、复杂背景）。
- **涵盖内容**: 单形状测距、重叠、分离、旋转
- **测量精度**: 形状边长误差在±0.5cm以内，距离误差在±1cm以内
  
### 2. 💻主控制器 - STM32F103RCT6
资源分配合理，所有外设功能均已通过验证：
- **外设分配**: 定时器、LED、按键、蜂鸣器、OLED、编码器、步进电机、ADC等等
- **资源使用**: 两路ADC一路用于采集电流，一路采集输入INA240的电源
- **优势所在**: 定时器触发采集并发送数据至串口屏实时监测，软件滤波算法搭配硬件滤波，电流采集精度达到5%

### 3. 🔋硬件设计 - PCB
- **电源设计**: 板载自制DCDC降压电路，输入宽电压（如12V），输出稳定干净的5V和3.3V，为MCU和外围器件供电并且为电流采集打下基础，效率高、纹波小。
- **布局布线**: 
  - 采用**双板结构**：主控核心板与外围功能板（电机驱动、传感器接口等）通过排针连接，物理隔离，有效降低数字与模拟电路间的相互干扰。
  - 所有关键外设信号引脚均通过排针/排座引出，方便调试与扩展。
- **实际使用**: 在项目中，PCB主要服务于ADC电流采集和串口屏控制功能，确保这两项核心功能的稳定性和精度。

### 4. 📊 电流采集 - INA240
- **特性**: 宽共模电压、高精度、双向电流检测放大器。
- **优势**: 增强型PWM抑制功能，在存在巨大共模瞬变的场合中能保持稳定输出。且为集成芯片，能够在较短的时间内实现。
- **布局优势**：采样电阻采用4线开尔文连接法，选择低温漂、高精度贴片电阻。

### 5. 🎥 视频链接 - BIlibili
-  [![点这里](https://img.shields.io/badge/Bilibili-点这里-00A1D6)](https://www.bilibili.com/video/BV1o9uvzvEtX)
## 特别说明！！！！
- 1.因为队友的数字模型没训练成功，所以数字那个发挥题只做了测距，没有做边长测量
- 2.由于MaixCam使用的像素比较低，所以在远距离稍微做了一下线性补偿，是通过多次测量得到的一个值
- 3.MaixCam中的测量逻辑有点毛病，只能是基础 → 发挥1或发挥2 → 重叠或分离 → 数字 → 旋转。这也是一个伏笔...
- 4.接上一个伏笔，测评时因为一些小小问题，打乱了测量逻辑所以只做了基础、发挥1发挥2和重叠分离，拿了省一。
- 6.等我想到再继续补充...
